
#		**********************************************************************************************************
#		Chapter 8. Association Mappings
#		**********************************************************************************************************

title8 = \u7B2C\u516B\u7AE0. \u5173\u8054\u6620\u5C04

#		**********************************************************************************************************
#		8.1. Introduction
#		**********************************************************************************************************

title8-1 = 8.1. \u4ECB\u7ECD
p8-1-1 = \u5173\u8054\u5173\u7CFB\u6620\u5C04\u901A\u5E38\u60C5\u51B5\u662F\u6700\u96BE\u914D\u7F6E\u6B63\u786E\u7684\u3002\u5728\u8FD9\u4E00\u8282\u4E2D\u6211\u4EEC\u9996\u5148\u4ECE\u5355\u5411\u6620\u5C04\u5F00\u59CB\uFF0C\u7136\u540E\u8003\u8651\u53CC\u5411\u5173\u7CFB\u6620\u5C04\u3002\u8FD9\u4E00\u7AE0\u4E2D\uFF0C<code>Person</code> \u548C <code>Address</code>\u4E24\u4E2A\u7C7B\u5C06\u8D2F\u7A7F\u59CB\u7EC8\u3002
p8-1-2 = \u6211\u4EEC\u6839\u636E\u6620\u5C04\u5173\u7CFB\u662F\u5426\u6D89\u53CA\u8FDE\u63A5\u8868\u4EE5\u53CA\u591A\u6837\u6027\u6765\u5212\u5206\u5173\u8054\u7C7B\u578B\u3002
p8-1-3 = \u5728\u4F20\u7EDF\u6570\u636E\u6A21\u578B\u4E2D\uFF0C\u53EF\u4EE5\u4E3A\u7A7A\u7684\u5916\u952E\u4E0D\u88AB\u8BA4\u4E3A\u662F\u4E00\u79CD\u597D\u7684\u5B9E\u8DF5\u65B9\u6CD5\uFF0C\u6240\u4EE5\u6211\u4EEC\u7684\u4F8B\u5B50\u4E2D\u4E0D\u4F1A\u4F7F\u7528\u53EF\u4EE5\u4E3A\u7A7A\u7684\u5916\u952E\u3002\u8FD9\u5BF9Hibernate\u6765\u8BF4\u4E0D\u662F\u5FC5\u987B\u7684\uFF0C\u5373\u4F7F\u4F60\u53BB\u9664\u975E\u7A7A\u7EA6\u675F\uFF0C\u6620\u5C04\u4F9D\u7136\u80FD\u591F\u6B63\u5E38\u8FD0\u884C\u3002

#		**********************************************************************************************************
#		8.2. Unidirectional associations
#		**********************************************************************************************************

title8-2 = 8.2. \u5355\u5411\u5173\u8054

#		**********************************************************************************************************
#		8.2.1. Many-to-one
#		**********************************************************************************************************

title8-2-1 = 8.2.1. \u591A\u5BF9\u4E00
p8-2-1-1 = \u4E00\u4E2A\u5355\u5411\u591A\u5BF9\u4E00\u5173\u8054\u662F\u6700\u5E38\u89C1\u7684\u5355\u5411\u5173\u8054\u5173\u7CFB\u3002

#		**********************************************************************************************************
#		8.2.2. One-to-one
#		**********************************************************************************************************

title8-2-2 = 8.2.2. \u4E00\u5BF9\u4E00
p8-2-2-1 = \u57FA\u4E8E\u5916\u952E\u5173\u8054\u7684\u5355\u5411\u4E00\u5BF9\u4E00\u5173\u8054\u548C\u5355\u5411\u591A\u5BF9\u4E00\u5173\u8054\u51E0\u4E4E\u662F\u4E00\u6837\u7684\u3002\u552F\u4E00\u7684\u4E0D\u540C\u5C31\u662F\u5355\u5411\u4E00\u5BF9\u4E00\u5173\u8054\u4E2D\u7684\u5916\u952E\u5B57\u6BB5\u5177\u6709\u552F\u4E00\u6027\u7EA6\u675F\u3002
p8-2-2-2 = \u57FA\u4E8E\u4E3B\u952E\u5173\u8054\u7684\u5355\u5411\u4E00\u5BF9\u4E00\u5173\u8054\u901A\u5E38\u4F7F\u7528\u4E00\u4E2A\u7279\u5B9A\u7684id\u751F\u6210\u5668\u3002\uFF08\u8BF7\u6CE8\u610F\uFF0C\u5728\u8FD9\u4E2A\u4F8B\u5B50\u4E2D\u6211\u4EEC\u6389\u6362\u4E86\u5173\u8054\u7684\u65B9\u5411\u3002\uFF09

#		**********************************************************************************************************
#		8.2.3. One-to-many
#		**********************************************************************************************************

title8-2-3 = 8.2.3. \u4E00\u5BF9\u591A
p8-2-3-1 = \u57FA\u4E8E\u5916\u952E\u7684\u5355\u5411\u4E00\u5BF9\u591A\u662F\u4E0D\u5E38\u89C1\u7684\uFF0C\u4E5F\u662F\u4E0D\u88AB\u63A8\u8350\u7684\u505A\u6CD5\u3002
p8-2-3-2 = \u4F60\u5E94\u8BE5\u4F7F\u7528\u5916\u8054\u8868\u6765\u66FF\u4EE3\u8FD9\u79CD\u505A\u6CD5\u3002

#		**********************************************************************************************************
#		8.3. Unidirectional associations with join tables
#		**********************************************************************************************************

title8-3 = 8.3. \u4F7F\u7528\u94FE\u63A5\u8868\u7684\u5355\u5411\u5173\u8054

#		**********************************************************************************************************
#		8.3.1. One-to-many
#		**********************************************************************************************************

title8-3-1 = 8.3.1. One-to-many
p8-3-1-1 = \u4F7F\u7528\u8FDE\u63A5\u8868\u7684\u5355\u5411\u7684\u4E00\u5BF9\u591A\u63A8\u8350\u4F7F\u7528\u3002\u6307\u5B9A<code>unique="true"</code>, \u6765\u628Amany-to-many \u4FEE\u6539\u4E3A one-to-many\u3002

#		**********************************************************************************************************
#		8.3.2. Many-to-one
#		**********************************************************************************************************

title8-3-2 = 8.3.2. Many-to-one
p8-3-2-1 = \u57FA\u4E8E\u8FDE\u63A5\u8868\u7684\u5355\u5411\u591A\u5BF9\u4E00\u5173\u8054\u5728\u5173\u8054\u5173\u7CFB\u53EF\u9009\u7684\u60C5\u51B5\u4E0B\u5E94\u7528\u4E5F\u5F88\u666E\u904D\u3002\u4F8B\u5982:

#		**********************************************************************************************************
#		8.3.3. One-to-one
#		**********************************************************************************************************

title8-3-3 = 8.3.3. One-to-one
p8-3-3-1 = \u57FA\u4E8E\u8FDE\u63A5\u8868\u7684\u5355\u5411\u4E00\u5BF9\u4E00\u5173\u8054\u975E\u5E38\u5C11\u89C1\uFF0C\u4F46\u4E5F\u662F\u53EF\u884C\u7684\u3002

#		**********************************************************************************************************
#		8.3.4. Many-to-many
#		**********************************************************************************************************

title8-3-4 = 8.3.4. Many-to-many
p8-3-4-1 = \u6700\u540E\uFF0C\u8FD8\u6709 \u5355\u5411\u591A\u5BF9\u591A\u5173\u8054\u3002

#		**********************************************************************************************************
#		8.4. Bidirectional associations
#		**********************************************************************************************************

title8-4 = 8.4. \u53CC\u5411\u5173\u8054

#		**********************************************************************************************************
#		8.4.1. one-to-many / many-to-one
#		**********************************************************************************************************

title8-4-1 = 8.4.1. one-to-many / many-to-one
p8-4-1-1 = \u53CC\u5411\u591A\u5BF9\u4E00\u5173\u8054 \u662F\u6700\u5E38\u89C1\u7684\u5173\u8054\u5173\u7CFB\u3002\u4E0B\u9762\u7684\u4F8B\u5B50\u9610\u660E\u4E86\u6807\u51C6\u7684 parent/child \u5173\u7CFB\u3002
p8-4-1-2 = \u5982\u679C\u4F60\u4F7F\u7528<code>List</code>, \u6216\u8005\u5176\u4ED6\u7684\u6709\u5E8F\u96C6\u5408, \u9700\u8981\u8BBE\u7F6E\u5916\u952E\u5BF9\u5E94\u7684key\u5217\u4E3Anot null\u3002\u8BA9 Hibernate \u4ECE\u96C6\u5408\u7AEF\u6765\u7BA1\u7406\u5173\u8054\u3002\u7EF4\u62A4\u6BCF\u4E2A\u5143\u7D20\u7684\u7D22\u5F15\uFF0C\u901A\u8FC7\u4F7F\u7528<code>update="false"</code> \u548C <code>insert="false"</code>\u6765\u5BF9\u4E00\u7AEF\u53CD\u5411\u64CD\u4F5C:
p8-4-1-3 = \u5982\u679C\u96C6\u5408\u6620\u5C04\u7684key\u5143\u7D20\u5BF9\u5E94\u7684\u5E95\u5C42\u5916\u952E\u5B57\u6BB5\u662F NOT NULL\u7684, \u90A3\u4E48\u4E3A\u8FD9\u4E00 <code>&lt;key&gt;</code>\u5143\u7D20\u5B9A\u4E49 not-null="true"\u662F\u5F88\u91CD\u8981\u7684\u3002\u4E0D\u8981\u4EC5\u4EC5\u4E3A\u53EF\u80FD\u7684\u5D4C\u5957<code>&lt;column&gt;</code>\u5143\u7D20\u5B9A\u4E49 <code>not-null="true"</code>\uFF0C<code>&lt;key&gt;</code>\u5143\u7D20\u4E5F\u662F\u9700\u8981\u7684\u3002

#		**********************************************************************************************************
#		8.4.2. One-to-one
#		**********************************************************************************************************

title8-4-2 = 8.4.2. One-to-one
p8-4-2-1 = \u57FA\u4E8E\u5916\u952E\u5173\u8054\u7684\u53CC\u5411\u4E00\u5BF9\u4E00\u5173\u8054\u4E5F\u5F88\u5E38\u89C1:
p8-4-2-2 = \u57FA\u4E8E\u4E3B\u952E\u5173\u8054\u7684\u4E00\u5BF9\u4E00\u5173\u8054\u9700\u8981\u4F7F\u7528\u7279\u5B9A\u7684id\u751F\u6210\u5668\u3002

#		**********************************************************************************************************
#		8.5. Bidirectional associations with join tables
#		**********************************************************************************************************

title8-5 = 8.5. \u4F7F\u7528\u94FE\u63A5\u8868\u7684\u53CC\u5411\u5173\u8054

#		**********************************************************************************************************
#		8.5.1. one-to-many / many-to-one
#		**********************************************************************************************************

title8-5-1 = 8.5.1. one-to-many / many-to-one
p8-5-1-1 = \u4E0B\u9762\u662F\u4E00\u4E2A\u57FA\u4E8E\u94FE\u63A5\u8868\u7684\u4E00\u5BF9\u591A\u5173\u8054\u3002 <code>inverse="true"</code> \u53EF\u4EE5\u51FA\u73B0\u5728\u4EFB\u610F\u4E00\u7AEF, \u96C6\u5408\u7AEF\u6216\u8005join\u7AEF\u3002

#		**********************************************************************************************************
#		8.5.2. one to one
#		**********************************************************************************************************

title8-5-2 = 8.5.2. one to one
p8-5-2-1 = \u4E00\u4E2A\u53CC\u5411\u7684\u4E00\u5BF9\u4E00\u5173\u8054\u4E5F\u53EF\u4EE5\u4F7F\u7528\u8FDE\u63A5\u8868\uFF0C\u4F46\u662F\u4E0D\u5E38\u89C1\u3002

#		**********************************************************************************************************
#		8.5.3. Many-to-many
#		**********************************************************************************************************

title8-5-3 = 8.5.3. Many-to-many
p8-5-3-1 = \u4E0B\u9762\u662F\u4E00\u4E2A\u53CC\u5411\u7684\u591A\u5BF9\u591A\u5173\u8054\u7684\u4F8B\u5B50\u3002

#		**********************************************************************************************************
#		8.6. More complex association mappings
#		**********************************************************************************************************

title8-6 = 8.6. \u66F4\u590D\u6742\u7684\u5173\u8054\u6620\u5C04
p8-6-1 = \u66F4\u52A0\u590D\u6742\u7684\u5173\u8054\u94FE\u63A5\u6781\u4E3A\u7F55\u89C1\u3002 \u901A\u8FC7\u5728\u6620\u5C04\u6587\u6863\u4E2D\u5D4C\u5165SQL\u7247\u65AD\uFF0CHibernate\u4E5F\u53EF\u4EE5\u5904\u7406\u66F4\u4E3A\u590D\u6742\u7684\u60C5\u51B5\u3002\u4F8B\u5982, \u5047\u82E5\u5305\u542B\u5386\u53F2\u5E10\u6237\u6570\u636E\u7684\u8868\u5B9A\u4E49\u4E86 <code>accountNumber</code>, <code>effectiveEndDate</code> \u548C <code>effectiveStartDatecolumns</code>, \u5C06\u4F1A\u6309\u7167\u4E0B\u9762\u6620\u5C04:
p8-6-2 = \u90A3\u4E48\u6211\u4EEC\u53EF\u4EE5\u5BF9\u76EE\u524D(current)\u5B9E\u4F8B(\u5176effectiveEndDate\u4E3Anull)\u4F7F\u7528\u8FD9\u6837\u7684\u5173\u8054\u6620\u5C04:
p8-6-3 = \u5728\u66F4\u590D\u6742\u7684\u793A\u4F8B\u4E2D, \u5047\u60F3<code>Employee</code>\u548C<code>Organization</code>\u4E4B\u95F4\u7684\u5173\u8054\u662F\u901A\u8FC7\u4E00\u4E2AEmployment\u4E2D\u95F4\u8868\u7EF4\u62A4\u7684\uFF0C\u800C\u4E2D\u95F4\u8868\u4E2D\u586B\u5145\u4E86\u5F88\u591A\u5386\u53F2\u96C7\u5458\u6570\u636E\u3002\u90A3\u201C\u96C7\u5458\u7684\u6700\u65B0\u96C7\u4E3B\u201D\u8FD9\u4E2A\u5173\u8054\uFF08\u6700\u65B0\u96C7\u4E3B\u5C31\u662FstartDate\u6700\u540E\u7684\u90A3\u4E2A\uFF09\u53EF\u4EE5\u8FD9\u6837\u6620\u5C04\uFF1A
p8-6-4 = \u4F7F\u7528\u8FD9\u4E00\u529F\u80FD\u65F6\u53EF\u4EE5\u5145\u6EE1\u521B\u610F\uFF0C\u4F46\u901A\u5E38\u66F4\u52A0\u5B9E\u7528\u7684\u662F\u7528HQL\u6216\u6761\u4EF6\u67E5\u8BE2\u6765\u5904\u7406\u8FD9\u4E9B\u60C5\u5F62\u3002































